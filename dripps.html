<!DOCTYPE html>
<html>
	<head>
	    <title>drippr</title>
	    <link rel="shortcut icon" href="images/drop.png">
	    <link rel="stylesheet" href="css/bootstrap.css">
	    <link rel="stylesheet" href="css/dripps.css">
		<link rel="stylesheet" href="css/bucket.css">
	    <link rel="stylesheet" href="css/facebook.css">
	    <script type="text/javascript" src="/scripts/handlebars.js"></script>
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
		<script src="//code.jquery.com/ui/1.10.4/jquery-ui.js"></script>
		<script type="text/javascript" src="/scripts/dripps.js"></script>
		<script type="text/javascript" src="/scripts/bucket.js"></script>
		<script type="text/javascript" src="/scripts/groups.js"></script>
		<script type="text/javascript" src="/scripts/elastic.js"></script>
		<script type="text/javascript" src="/scripts/slider.js"></script>
		<script type="text/javascript" src="/scripts/moment.js"></script>
		<script type="text/javascript" src="/scripts/facebook.js"></script>
		<script type="text/javascript" src="/scripts/facebook_autocomplete.js"></script>
		<script type="text/javascript" src="/scripts/bootstrap.js"></script>
	</head>
    <body>
    	<div id="fb-root"></div>
        <!--Handlebar templates start-->
            <!-- Header -->
		<div id="header" class = "container-fluid">
			<div class = "row header">
				<div id = "headerDiv">
				</div>
				<script id="header-template" type="text/x-handlebars-template"> 
		    		<div id="drippsHeader" class = "col-xs-5 headingPad">
			        	<div class = "col-xs-4 headingPad1">
			        		<a href="#dripp">
			    				<div class = "drippsBub chosenHeadBub">
			    					<div class = "col-xs-3">
			        					<img class = "headBubImg" src = "/images/dropWhite.svg">
			        				</div>
			        				<div class = "col-xs-9">
			        					<p id = "selPage">
			    							find
			    						</p>
									</div>
			    				</div>
		    				</a>
		    			</div>
		    			<div class = "col-xs-2 headingPad2">
		    				<a href="#bucket">
			    				<div class = "bucketsBub headBub">
			    					<div class = "notify"></div>
			    					<img class = "headBubImg" src = "/images/bucket.svg">
			    				</div>
		    				</a>
		    			</div>
		    			<div class = "col-xs-2 headingPad2">
		    				<a href="#group">
			    				<div class = "groupsBub headBub">
			    					<img class = "headBubImg" src = "/images/group.svg">
			    				</div>
		    				</a>
		    			</div>
		    		</div>
		    		<div id="bucketsHeader" class = "col-xs-5 headingPad hide">
						<div class = "col-xs-2 headingPad2">
		    				<a href="#dripp">
		    				<div class = "drippsBub headBub">
		    					<img class = "headBubImg" src = "/images/dropWhite.svg">
		    				</div>
		    				</a>
		        		</div>
			        	<div class = "col-xs-4 headingPad1">
		    				<a href="#bucket">
			    				<div class = "bucketsBub chosenHeadBub">
			    					<div class = "col-xs-3">
			        					<img class = "headBubImg" src = "/images/bucket.svg">
			        				</div>
			        				<div class = "col-xs-9">
			        					<p id = "selPage">
			    							bucket
			    						</p>
									</div>
			    				</div>
		    				</a>
		    			</div>
		    			<div class = "col-xs-2 headingPad2">
		    				<a href="#group">
			    				<div class = "groupsBub headBub">
			    					<img class = "headBubImg" src = "/images/group.svg">
			    				</div>
		    				</a>
		    			</div>
		    		</div>
		    		<div id="groupsHeader" class = "col-xs-5 headingPad hide">
						<div class = "col-xs-2 headingPad2">
		    				<a href="#dripp">
			    				<div class = "drippsBub headBub">
			    					<img class = "headBubImg" src = "/images/dropWhite.svg">
			    				</div>
		    				</a>
		        		</div>
		    			<div class = "col-xs-2 headingPad2">
		    				<a href="#bucket">
			    				<div class = "bucketsBub headBub">
			    					<div class = "notify"></div>
			    					<img class = "headBubImg" src = "/images/bucket.svg">
			    				</div>
		    				</a>
		    			</div>
			        	<div class = "col-xs-4 headingPad1">
			        		<a href="#group">
			    				<div class = "groupsBub chosenHeadBub">
			    					<div class = "col-xs-3">
			        					<img class = "headBubImg" src = "/images/group.svg">
			        				</div>
			        				<div class = "col-xs-9">
			        					<p id = "selPage">
			    							groups
			    						</p>
									</div>
			    				</div>
			        		</a>
		    			</div>
		    		</div>
		    	</script>
				<div class = "col-xs-2">
		        	<div class = "hide" id = "dripprdiv">
		        		<a href = "http://drippr.me"> 
		        			<img id = "logo" src = "images/logo.png">
		        		</a>
		        	</div>
	        	</div>
				<div class = "col-xs-5">
					<div class = "hide" id = "fb">
						<div id = "user">
						</div>
						<div class="fb-login-button" data-max-rows="1" data-size="medium" data-show-faces="false" data-auto-logout-link="true">
						</div>
					</div>
				</div>
			</div>
		</div>
        <!-- end HEADER -->


		<div id="dripps" class = "container-fluid">
			<div id="drippsPromo">
				drippr is sooooo cool.
			</div>    		
			<div class = "row hide" id = "size1">
	        	<div class = "menuBar col-xs-3">
		        	<div class = "mainCatDiv">
		        		<div  class = "categ row topCat" category="All">
		        			<div class = "col-xs-9">
		        				<p id="All" class = "word">all</p>
		        			</div>
		        			<div class = "col-xs-3">
		        				<img class = "catImg topCatImg grey" category="all" src = "/images/all.svg">
		        				<img class = "catImg hide topCatImg white" category="all" src = "/images/allWhite.svg">
		        			</div>
		        		</div>
		        		<div class = "categ row" category="USA">
		        			<div class = "col-xs-9">
		        				<p class = "word">usa</p>
		        			</div>
		        			<div class = "col-xs-3">
		        				<img class = "catImg grey" category="usa" src = "/images/usa.svg">
		        				<img class = "catImg hide white" category="usa" src = "/images/usaWhite.svg">
		        			</div>
		        		</div>
		        		<div class = "categ row" category="World">
		        			<div class = "col-xs-9">
		        				<p id="World" class = "word">world</p>
		        			</div>
		        			<div class = "col-xs-3">
		        				<img class = "catImg grey" category="world" src = "/images/world.svg">
		        				<img class = "catImg hide white" category="world" src = "/images/worldWhite.svg">
		        			</div>
		        		</div>
		        		<div class = "categ row" category="Politics">
		        			<div class = "col-xs-9">
		        				<p class = "word">politics</p>
		        			</div>
		        			<div class = "col-xs-3">
		        				<img class = "catImg grey" category="politics" src = "/images/politics.svg">
		        				<img class = "catImg hide white" category="politics" src = "/images/politicsWhite.svg">
		        			</div>
		        		</div>
		        		<div class = "categ row" category="Business">
		        			<div class = "col-xs-9">
		        				<p class = "word">business</p>
		        			</div>
		        			<div class = "col-xs-3">
		        				<img class = "catImg grey" category="business" src = "/images/business.svg">
		        				<img class = "catImg hide white" category="business" src = "/images/businessWhite.svg">
		        			</div>
		        		</div>
		        		<div class = "categ row" category="Sports">
		        			<div class = "col-xs-9">
		        				<p id="Sports" class = "word">sports</p>
		        			</div>
		        			<div class = "col-xs-3">
		        				<img class = "catImg grey" category="sports" src = "/images/sports.svg">
		        				<img class = "catImg hide white" category="sports" src = "/images/sportsWhite.svg">
		        			</div>
		        		</div>
		        		<div class = "categ row" category="Entertainment">
		        			<div class = "col-xs-9">
		        				<p class = "word">entertainment</p>
		        			</div>
		        			<div class = "col-xs-3">
		        				<img class = "catImg grey" category="entertainment" src = "/images/entertainment.svg">
		        				<img class = "catImg hide white" category="entertainment" src = "/images/entertainmentWhite.svg">
		        			</div>
		        		</div>
		        		<div class = "categ row" category="Tech">
		        			<div class = "col-xs-9">
		        				<p class = "word">tech</p>
		        			</div>
		        			<div class = "col-xs-3">
		        				<img class = "catImg grey" category="tech" src = "/images/tech.svg">
		        				<img class = "catImg hide white" category="tech" src = "/images/techWhite.svg">
		        			</div>
		        		</div>
		        		<div class = "categ row" category="Science">
		        			<div class = "col-xs-9">
		        				<p class = "word">science</p>
		        			</div>
		        			<div class = "col-xs-3">
		        				<img class = "catImg grey" category="science" src = "/images/science.svg">
		        				<img class = "catImg hide white" category="science" src = "/images/scienceWhite.svg">
		        			</div>
		        		</div>
		        		<div class = "categ row" category="Lifestyle">
		        			<div class = "col-xs-9">
		        				<p class = "word">lifestyle</p>
		        			</div>
		        			<div class = "col-xs-3">
		        				<img class = "catImg grey" category="lifestyle" src = "/images/lifestyle.svg">
		        				<img class = "catImg hide white" category="lifestyle" src = "/images/lifestyleWhite.svg">
		        			</div>
		        		</div>
			        </div>
	        	</div>
	        	<div class = "col-xs-1 arrowDiv">
		        	<a href = "javascript:sliders[0].goToPrev()">
			        	<div class = "arrow" id = "prevArrow">
			        		<img src = "/images/revArrow.svg">
						</div>
					</a>
				</div>
	        	<div class = "col-xs-7" id = "sliderPad">
		        	<div id="articles">
		        	</div>
	        		<script id="article-template" type="text/x-handlebars-template"> 
						<div class="slider">
				            <ul>
				            	{{#each articles}}
				                	<li id = {{this.id}} numlikes={{this.numLikes}} numDislikes={{this.numDislikes}}>
						                <div class = "mainBubble">
											<h3 id = "source"> 
												{{ this.source }} - {{this.date}}
											</h3>
							                <div class = "headlineDiv">
							                	<a class = "headlineDripp" href = "{{ this.url }}" target="_blank">
								                	{{ this.headline }}
						                		</a>
						                	</div>
						                	<div class = "imageDivDripp">
								                <a href = "{{ this.url }}" target="_blank">
								                	<img class = "fitimageDripp" src = "{{ this.imgUrl }}" >
							                	</a>
						                	</div>
						                </div>
				                	</li> 
				            	{{/each}}
				            </ul>
		            	</div>
						<script>
							var sliders = [];
							$('.slider').each(function() {
							sliders.push(new Slider(this))
							});
						</script>
					</script>
					<div class = "row" id = "buttonPad">
						<div class = "col-xs-1">
						</div>
						<div class = "row col-xs-10">
			                <div class = "col-xs-3">
								<div class = "opDiv">
									<img src = "images/readLater.svg" class="opinionDripp readLater grey2 hide">
									<img src = "images/readLaterBlue.svg" class="opinionDripp readLater blue hide">
								</div>
		                	</div>
		                	<div class = "row col-xs-4">
			                	<div class = "col-xs-6">
									<div class = "opDiv">
										<img src = "images/like.svg" class="opinionDripp like grey2 hide">
										<img src = "images/likeBlue.svg" class="opinionDripp like blue hide">
									</div>
								</div>
								<div class = "col-xs-6">
									<p class = "number up">
									</p>
		                		</div>
		                	</div>
		                	<div class = "row col-xs-4">
			                	<div class = "col-xs-6">
									<div class = "opDiv">
										<img src = "images/dislike.svg" class="opinionDripp dislike grey2 hide">
										<img src = "images/dislikeBlue.svg" class="opinionDripp dislike blue hide">
									</div>
								</div>
								<div class = "col-xs-6">
									<p class = "number down">
									</p>
								</div>
							</div>
							<div class = "col-xs-1">
								<div class = "opDiv">
									<img src = "images/drop.svg" class = "opinionDripp dripp hide" data-toggle="modal" data-target="#myModal">
								</div>
							</div>
						</div>
						<div class = "col-xs-1">
						</div>
	                </div>
				</div>
				<div class = "col-xs-1 arrowDiv">
					<a href = "javascript:sliders[0].goToNext()">
						<div class = "arrow" id = "nextArrow">
							<img src = "/images/arrow.svg">
						</div>
					</a>
				</div>
			</div>
		</div>
	
<!--- BUCKETs HTML -->
	<div id="buckets" class = "container-fluid hide">
    	<div class = "row">
    		<div class = "menuBar col-xs-3">
    			<div class = "row">
	    			<div class = "col-xs-4" id = "selDripps">
		    			<div class = "selBucket selectedBucket" bucketIdentifier = "dripps">
		    				dripps
		    			</div>
	    			</div>
	    			<div class = "col-xs-4" id = "selSent">
		    			<div class = "selBucket" bucketIdentifier = "sent">
		    				sent
		    			</div>
		    		</div>
		    		<div class = "col-xs-4" id = "selBucket">
		    			<div class = "selBucket" bucketIdentifier = "readItLater">
		    				saved
		    			</div>
		    		</div>
		    	</div>
        		<div id="items">
        		</div>
	        	<script id="items-template" type="text/x-handlebars-template">
		        	<div class = "mainItemDiv">
		        		{{#each buckets}}
		        			<div class = "messageItem" message_id = {{id}} conversation_id = {{conversationId}}>
		        				<p message_id = {{id}} conversation_id = {{conversationId}} id = "messageItemHead">{{headline}}</p>
		        				<div message_id = {{id}} conversation_id = {{conversationId}} class = "row fullMessage">
		        					<img message_id = {{id}} conversation_id = {{conversationId}} id = "messageItemPic" src = "http://graph.facebook.com/{{fromUserId}}/picture?width=25&height=25">
		        					<p message_id = {{id}} conversation_id = {{conversationId}} id = "messageItemSender">{{fName}} {{lName}}</p>
		        					<p message_id = {{id}} conversation_id = {{conversationId}} id = "messageItemTime">{{timeSentString}}</p>
		        				</div>
		        			</div>
		        		{{/each}}
			        </div>
		        </script>
			</div>
        	<div class = "col-xs-7">
	        	<div id="selDripp">
	        	</div>
	        	<div class = "noDrippsMain hide">
    				link to Chrome Extension
    				link to dripps stumble
    			</div>
	        	<script id="selDripp-template" type="text/x-handlebars-template">
	        		<div class = "row" id = "headlineBucket">
	        			<a class = "headlineDripp" href = {{selItem.url}} target="_blank">
	        				{{selItem.headline}}
	        			</a>
	        		</div>
	        		<div class = "row" id = "imageDivBucket">
	        			<a href = {{selItem.url}} target="_blank">
	        				<img id = "fitImageBucket" src = {{selItem.imgUrl}}>
	        			</a>
	        		</div>

	        		<div class = "row">
	        			<div class = "col-xs-11 col-xs-offset-1" id = "convoDiv">
	        				<div class = "friendPics">
		        				{{#each friendNames}}
		        					<img src = {{picture}}>
		        					{{name}}
		        				{{/each}}
		        			</div>
		        			<div id = "conversation">
			        			{{#each messages}}
			        				<div class = "indMess {{userId}}">
			        					<img src = "http://graph.facebook.com/{{userId}}/picture?width=25&height=25">
			        					{{fName}} {{lName}}: {{content}} Time: {{timeString}}
			        				</div>
		        				{{/each}}
		        			</div>
			        	</div>
	        		</div>
	    			<div class = "row">
	    				<div class = "col-xs-10 col-xs-offset-1 messageInputRow" >
	        				<textarea id = "messageInput" placeholder="Enter Message" cols="20"></textarea>
	        			</div>
	        			<div class = "col-xs-1 noPad">
	        				<div id = "messageSend"> Send </div>
	        			</div>
	        		</div>
        		</script>
    		
    		<div id="selItem">
        	</div>
        	<script id="selItem-template" type="text/x-handlebars-template">
	        	<div>
	        		<div class = "row" id = "headlineBucket">
	        			{{selItem.headline}}
	        		</div>
	        		<div class = "row" id = "imageDivBucket">
	        			<img id = "fitImageBucket" src = {{selItem.imgUrl}}>
	        		</div>
        		</div>
			</script>
			</div>
			<div class = "col-xs-2" id = "opContainer">
				<div class = "row">
 					<div class = "opDiv col-xs-6 col-xs-offset-2">
 						<img src = "images/readLater.svg" class="opinionBucket readLater2 grey2 hide">
 						<img src = "images/readLaterBlue.svg" class="opinionBucket readLater2 blue hide">
 					</div>
				</div>
        		<div class = "row">
					<div class = "number up2 col-xs-2">
					</div>
					<div class = "opDiv col-xs-6 ">
						<img src = "images/like.svg" class="opinionBucket like2 grey2 hide">
						<img src = "images/likeBlue.svg" class="opinionBucket like2 blue hide">
					</div>
    			</div>
    			<div class = "row">
    				<div class = "number down2 col-xs-2">
					</div>
 					<div class = "opDiv col-xs-6">
						<img src = "images/dislike.svg" class="opinionBucket dislike2 grey2 hide">
						<img src = "images/dislikeBlue.svg" class="opinionBucket dislike2 blue hide">
					</div>
				</div>
				<div class="row">
					<div class = "opDiv col-lg-6 col-lg-offset-2">
 						<img src = "images/drop.svg" class = "opinionBucket dripp2 hide" data-toggle="modal" data-target="#myModal">
					</div>
				</div>
						
			</div>
		</div>
	</div>
	<div id="groups" class = "container-fluid hide">
		<div class = "row">
			<div class = "row col-xs-6">
				<div class = "col-xs-1">
				</div>
				<div class = "col-xs-11 createGroupSyle">
					create groups
				</div>
			</div>
			<div class = "col-xs-6">
			</div>
		</div>
		<div class = "row groupCont">
			<div class = "col-xs-1">
			</div>
			<div class = "col-xs-3" id = "groupInput">
				<div>
					Select friends for your new group - if your friend hasn't used drippr, we'll give you a chance to invite them and they will be able to see their dripps once they login.<strong>(drippr users appear in blue)</strong>
					<div class = "row">
						<div class = "col-xs-5" id = "groupNameStyle">
							group name:
						</div>
						<div class = "col-xs-7 noPad">
							<input id = "groupName" type = "text" autocomplete="off" autofocus="autofocus">
						</div>
					</div>
					<div class = "row">
						<div class = "col-xs-5" id = "selFriendsStyle">
							select friends:
						</div>
						<div class = "col-xs-7 noPad">
							<input id = "fb-input-groups" type = "text" autocomplete="off">
						</div>
					</div>
					<a class="btn" id="groupBtn"><img class="buttonDrip" src="images/dropBlue.svg">Create Group</a>
				</div>
			</div>
			<div class = "col-xs-7">
				<div id = "chosenCont">
					<div id = "chosenGroup">
					</div>
				</div>
			</div>
			<div class = "col-xs-1">
			</div>
		</div>
		<div class = "row">
			<div class = "col-xs-6">
				<div class = "row">
					<div class = "row col-xs-6">
						<div class = "col-xs-1">
						</div>
						<div class = "col-xs-11 createGroupSyle">
							my groups
						</div>
					</div>
					<div class = "col-xs-6">
					</div>
				</div>
			</div>
			<div class = "col-xs-6">
				<div class = "row col-xs-6">
					<div class = "col-xs-1">
					</div>
					<div class = "col-xs-11 createGroupSyle">
						groups friends made
					</div>
				</div>
				<div class = "col-xs-6">
				</div>
			</div>
		</div>
		<div id="groups_placeholder">
		</div>
		<script id="groups-template" type="text/x-handlebars-template">
			<div class = "row">
				<div class = "col-xs-6">	
					<div id = "my_group_container">
						{{#each my_groups}}
							<div class = "row groupRowStyle" group_id="group_{{this.id}}">				
								<div class = "col-xs-2 nameGroupsStyle">{{this.name}}</div>
								<div class = "col-xs-8 namesList">
									{{#each this.list}}
										<div class="personName {{userId}}">
											{{this.name}}
										</div>
									{{/each}}
								</div>
								<div class = "col-xs-2">
									<div class = "deleteGroup" group_id={{this.id}}>
										delete
									</div>
									<div class = "addMems" group_id={{this.id}} data-toggle="modal" data-target="#myModal2">
										add members
									</div>
								</div>
							</div>
						{{/each}}
					</div>						
				</div>
				<div class = "col-xs-6">
					<div id = "other_group_container">
						{{#each other_groups}}
							<div class = "row groupRowStyle" group_id="group_{{this.id}}">
								<div class = "col-xs-2 nameGroupsStyle">{{this.name}}</div>
								<div class = "col-xs-2">{{this.creatorId}}</div>
								<div class = "col-xs-6">
									{{#each this.list}}
										<div class="personName {{userId}}">
											{{this.name}}
										</div>
									{{/each}}
								</div>
								<div class = "col-xs-2 leaveGroup" group_id={{this.id}}>
									leave group
								</div>
							</div>
						{{/each}}
					</div>
				</div>
			</div>
		</script>
	</div>
	<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
						&times;
					</button>
					<h4 class="modal-title" id="myModalLabel">
						send dripp
					</h4>
				</div>
				<div class="modal-body">
					<form class = "showForm" id="fb-form" >
						<p>
							Choose your facebook friends below. If your friend hasn't signed into drippr, we'll give you a chance to send them a message and they'll display red. Groups are green.
						</p>
						<div id = "chosenCont">
							<div id = "chosen">
							</div>
						</div>
						select friends: <input class = "fb-input" type = "text" autocomplete="off" autofocus="autofocus">
						<a class="btn send"><img class="buttonDrip" src="images/dropBlue.svg">
							send
						</a>
						<br>
						<div class="ui-widget">
							<label for="tags">select group: </label>
							<input id="tags">
							<a class="sendGroup"><img class="buttonDrip" src="images/dropBlue.svg">
								Send
							</a>
						</div>
					</form>
					<div class = "success hide">
						congratulations! your dripp has been sent!
					</div>
				</div>
				<!-- <div class="modal-footer">
		        	<button type="button" class="btn btn-default" data-dismiss="modal">
		        		Close
		        	</button>
		        </div> -->
		    </div>
		</div>		
	</div>
	<div class="modal fade" id="myModal2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
						&times;
					</button>
					<h4 class="modal-title groupModalName" id="myModalLabel">
					</h4>
				</div>
				<div class="modal-body">
					<form class = "showForm" id="fb-form" >
						<div id = "addChosenCont">
							<div id = "chosenAdd">
							</div>
						</div>
						select friends: <input class = "fb-input-add" type = "text" autocomplete="off" autofocus="autofocus">
						<a class="btn add">
							add friends
						</a>
					</form>
					<div class = "success hide">
						you have successfully added new members to your group!
					</div>
				</div>
				<!-- <div class="modal-footer">
		        	<button type="button" class="btn btn-default" data-dismiss="modal">
		        		Close
		        	</button>
		        </div> -->
		    </div>
		</div>
	</div>
	</body>
</html>